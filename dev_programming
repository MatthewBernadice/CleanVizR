# Install + Load Dependencies
# ---------------------------------------------------------
if (!requireNamespace("devtools", quietly = TRUE)) install.packages("devtools")
if (!requireNamespace("usethis", quietly = TRUE)) install.packages("usethis")
if (!requireNamespace("desc", quietly = TRUE)) install.packages("desc")
library(devtools)
library(usethis)
library(desc)
# ---------------------------------------------------------
# 1. Choose package name and parent directory
# ---------------------------------------------------------
pkg_name <- "CleanVizRpack"
# Parent directory where the package should be created
parent_dir <- "C:/CleanVizR"
# Full package path
pkg_path <- file.path(parent_dir, pkg_name)
# ---------------------------------------------------------
# 2. Create the package (correct folder, no nesting issues)
# ---------------------------------------------------------
create_package(pkg_path)
# ---------------------------------------------------------
# 3. Move into the actual package folder
# ---------------------------------------------------------
setwd(pkg_path)
# ---------------------------------------------------------
# 4. Edit DESCRIPTION (THIS TIME USING THE CORRECT FILE)
# ---------------------------------------------------------
d <- desc::description$new("DESCRIPTION")
d$set("Package", pkg_name)
d$set("Title", "Data Cleaning and Custom Plotting Utilities")
d$set("Version", "1.0.0")
d$set_authors(
person("Matthew", "Bernadice",
email = "kgarscoza@gmail.com",
role = c("aut", "cre"))
)
d$set("Description",
"CleanVizR is a beginner-friendly R package providing helper
functions for common data cleaning tasks and consistent,
easy-to-use visualizations to support exploratory data analysis.")
d$set("Depends", "R (>= 3.1.2)")
d$set("Imports", "ggplot2, dplyr")
d$set("License", "CC0")
d$set("LazyData", "true")
d$write("DESCRIPTION")
cat("✔ DESCRIPTION successfully updated at:", pkg_path, "\n\n")
# ---------------------------------------------------------
# 5. Run package checks
# ---------------------------------------------------------
devtools::check(pkg = pkg_path)
# ---------------------------------------------------------
# 6. Build package (the .tar.gz will appear in parent folder)
# ---------------------------------------------------------
devtools::build(pkg_path, path = parent_dir)
cat("\n✔ Package build complete! Tarball saved in:", parent_dir, "\n")
